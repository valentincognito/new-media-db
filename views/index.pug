extends layout

block content
  div.header
    h1
      a(href="/")
        img(src="images/common/archimed.png")
  div.navigation
    div.search-bar
      ul.filter-menu
        li.category category
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
        li.technology technology
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
        li.field field
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
        li.visual visual
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
    div.filter-list.category
      div.inner
        each category in categories
          span.tags= category.name
        div.search
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
          span.small search
    div.filter-list.technology
      div.inner
        each technology in technos
          span.tags= technology.name
        div.search
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
          span.small search
    div.filter-list.field
      div.inner
        each field in fields
          span.tags= field.name
        div.search
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
          span.small search
    div.filter-list.visual
      div.inner
        each visual in visuals
          span.tags= visual.name
        div.search
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
          span.small search
    div.filter-list.client
      div.inner
        each client in companies
          span.tags= client.name
        div.search
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
          span.small search
    div.selected-filters-list
      div.inner
        div.tag-list
        div.menu
          a(href="/") x reset
  div.content
    div.references-wrapper
      h3 latest articles
        span= refCount + ' videos'
      each reference in references
        if(reference.thumbnails[0])
          div.box(data-id=reference.id)
            a(href=reference.url target="_blank")
              div.thumbnail-outer
                img(src="/images/references/"+reference.thumbnails[0])
            div.info
              h2= reference.title
              p= reference.description
              - let date = new Date(reference.date)
              div.extra
                - let month = date.getMonth() + 1
                span.date
                  svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
                    path(d="M256 499c-64.9 0-125.9-25.3-171.8-71.2S13 320.9 13 256 38.3 130.1 84.2 84.2 191.1 13 256 13s125.9 25.3 171.8 71.2S499 191.1 499 256s-25.3 125.9-71.2 171.8S320.9 499 256 499zm0-436C149.6 63 63 149.6 63 256s86.6 193 193 193 193-86.6 193-193S362.4 63 256 63z")
                    path(d="M341.1 295.9l-56.8-48.5 41.3-98.5c5.3-12.7-.7-27.4-13.4-32.7-12.7-5.3-27.4.7-32.7 13.4l-46 109.7c-1.5 3.7-2.1 7.5-1.9 11.3-2 8.8.8 18.3 8.1 24.6l68.9 58.9c4.7 4 10.5 6 16.2 6 7.1 0 14.1-3 19-8.8 9-10.7 7.8-26.5-2.7-35.4z")
                  =  month.toString().padStart(2, '0') + "/" + date.getDate().toString().padStart(2, '0') + "/" + date.getFullYear()
                span.views
                  svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
                    path(d="M465 175.7l-22.7-91.9c-3.1-12.6-15.2-20.5-27.8-18.8-.8.1-1.7.3-2.5.5l-91.9 22.7c-13.4 3.3-21.6 16.9-18.3 30.3 2.8 11.4 13 19 24.2 19 2 0 4-.2 6-.7l34.6-8.6L269 292.7l-69.7-66.3c-5.4-5.2-12.9-7.6-20.4-6.7-7.5.9-14.1 5.2-18.1 11.6L50 409c-7.3 11.7-3.7 27.1 8 34.4 4.1 2.6 8.7 3.8 13.2 3.8 8.3 0 16.5-4.2 21.2-11.8l94.7-151.7 70.3 66.8c5.5 5.2 13.1 7.7 20.7 6.6 7.5-1 14.2-5.5 18.1-12l112.5-189.6 7.9 32c2.8 11.4 13 19 24.2 19 2 0 4-.2 6-.7 13.4-3.2 21.5-16.7 18.2-30.1z")
                  = reference.views
              div.tags
                span= reference.tags.category[0].name
                span= reference.tags.field[0].name
                span= reference.tags.techno[0].name
                span= reference.tags.visual[0].name
    div.pagination
      div.inner
        div.nav.prev
        div.page-info
          span.number.active
          span.number /
          span.number.page-count= Math.ceil(refCount / refPerPage)
        if(refCount > refPerPage)
          div.nav.next next
block scripts
  script(src="/js/index.js")
