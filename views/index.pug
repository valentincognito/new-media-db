extends layout

block content
  div.notification
  div.header
    h1
      a(href="/")
        img(src="/images/common/archimed.png" alt="Archimed")
  div.hidden-description.hidden Archimed is a simple yet powerful tool for helping professionals benchmarking within the following scope: interactive installation (virtual reality, augmented reality, mapping projection), digital campaign, media art and more...
  div.navigation
    div.search-bar
      ul.filter-menu
        li.category category
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
        li.technology tech
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
        li.field field
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
        li.visual visual
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(fill="none" d="M28.1 28.1l226.4 226.4")
            path(d="M379.6 238.3c-.3-.3-.5-.5-.8-.7-.2-.3-.5-.5-.7-.8L167.7 26.4c-9.8-9.8-25.6-9.8-35.4 0-9.8 9.8-9.8 25.6 0 35.4L326.6 256 133.9 448.7c-9.8 9.8-9.8 25.6 0 35.4 4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3l210.4-210.4c9.7-9.8 9.7-25.6-.1-35.4z")
      div.title-search
        input(type="text" placeholder="search by title here")
        svg.title-search-submit(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
          path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
    div.filter-list.category
      div.inner
        each category in categories
          span.tags= category.name
    div.filter-list.technology
      div.inner
        each technology in technos
          span.tags= technology.name
    div.filter-list.field
      div.inner
        each field in fields
          span.tags= field.name
    div.filter-list.visual
      div.inner
        each visual in visuals
          span.tags= visual.name
    div.selected-filters-list
      div.inner
        div.tag-list
        div.menu
          a(href="/") reset
        div.filter-search
          svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
            path(d="M468.1 432.8l-98.2-98.2c26.8-31.6 43-72.4 43-117 0-99.8-81.2-181-181-181s-181 81.2-181 181 81.2 181 181 181c37.2 0 71.8-11.3 100.6-30.6l100.2 100.2c4.9 4.9 11.3 7.3 17.7 7.3s12.8-2.4 17.7-7.3c9.8-9.9 9.8-25.7 0-35.4zM101 217.6c0-72.2 58.8-131 131-131s131 58.8 131 131-58.8 131-131 131c-72.2-.1-131-58.8-131-131z")
          span.small refresh
  div.content
    div.references-wrapper
      h3 latest references
        span= refCount + ' videos'
      if(refCount <= 0)
        div.no-results 
          | Sorry no results... 
          br
          | Looks like you might have gone too crazy with the filters 
          br
          | Try removing some !
      each reference in references
        if(reference.thumbnails[0])
          div.box(data-id=reference.id)
            div.copy-link
              svg(xmlns='http://www.w3.org/2000/svg', viewBox='0 0 512 512')
                path(d='M193.4 82.4h-26.9V55.5c0-13.8-11.2-25-25-25s-25 11.2-25 25v26.9H89.6c-13.8 0-25 11.2-25 25s11.2 25 25 25h26.9v26.9c0 13.8 11.2 25 25 25s25-11.2 25-25v-26.9h26.9c13.8 0 25-11.2 25-25s-11.2-25-25-25zM135 481.5c-24.4 0-47.2-9.4-64.3-26.6s-26.6-40-26.6-64.3 9.4-47.2 26.6-64.3l.2-.2 90.2-87.9c17.1-17.1 39.9-26.4 64.2-26.4 24.4 0 47.2 9.4 64.3 26.6 9.6 9.6 16.7 20.8 21.2 33.5 4.6 13-2.1 27.3-15.1 32-13 4.6-27.3-2.1-32-15.1-2-5.7-5.2-10.7-9.5-15-7.7-7.7-18-11.9-29-11.9s-21.3 4.2-29 11.9l-.2.2-90 87.7c-15.9 16-15.9 41.9.1 57.9s42 16 58 0l46.6-46.6c9.8-9.8 25.6-9.8 35.4 0 9.8 9.8 9.8 25.6 0 35.4L199.5 455c-17.2 17.1-40.1 26.5-64.5 26.5z')
                path(d='M301.5 383.7c-24.4 0-47.2-9.4-64.3-26.6-9.6-9.6-16.7-20.8-21.2-33.5-4.6-13 2.1-27.3 15.1-32 13-4.7 27.3 2.1 32 15.1 2 5.7 5.2 10.7 9.5 15 7.7 7.7 18 11.9 29 11.9s21.3-4.2 29-11.9l.2-.2 90.2-87.9c7.6-7.7 11.8-17.9 11.8-28.9s-4.2-21.3-11.9-29-18-11.9-29-11.9-21.3 4.2-29 11.9l-46.6 46.6c-9.8 9.8-25.6 9.8-35.4 0-9.8-9.8-9.8-25.6 0-35.4l46.6-46.6c17.1-17.1 40-26.6 64.3-26.6s47.2 9.4 64.3 26.6c35.5 35.5 35.5 93.2 0 128.7l-.2.2-90.2 87.9c-17.1 17.2-39.9 26.6-64.2 26.6z')
              span.label copy
            a.ref-link(href=reference.url target="_blank")
              div.overlay
              div.thumbnail-outer
                img(src="/images/references/"+reference.thumbnails[0] alt=reference.title)
            div.info
              h2= reference.title
              p= reference.description
              - let date = new Date(reference.date)
              div.extra
                - let month = date.getMonth() + 1
                span.date
                  svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512")
                    path(d="M256 499c-64.9 0-125.9-25.3-171.8-71.2S13 320.9 13 256 38.3 130.1 84.2 84.2 191.1 13 256 13s125.9 25.3 171.8 71.2S499 191.1 499 256s-25.3 125.9-71.2 171.8S320.9 499 256 499zm0-436C149.6 63 63 149.6 63 256s86.6 193 193 193 193-86.6 193-193S362.4 63 256 63z")
                    path(d="M341.1 295.9l-56.8-48.5 41.3-98.5c5.3-12.7-.7-27.4-13.4-32.7-12.7-5.3-27.4.7-32.7 13.4l-46 109.7c-1.5 3.7-2.1 7.5-1.9 11.3-2 8.8.8 18.3 8.1 24.6l68.9 58.9c4.7 4 10.5 6 16.2 6 7.1 0 14.1-3 19-8.8 9-10.7 7.8-26.5-2.7-35.4z")
                  =  month.toString().padStart(2, '0') + "/" + date.getDate().toString().padStart(2, '0') + "/" + date.getFullYear()
                span.views
                  a(href=reference.url target="_blank") watch
              div.tags
                span= reference.tags.category[0].name
                span= reference.tags.field[0].name
                span= reference.tags.techno[0].name
                span= reference.tags.visual[0].name
    div.pagination
      div.inner
        div.nav.prev
        div.page-info
          span.number.active
          span.number /
          span.number.page-count= Math.ceil(refCount / refPerPage)
        if(refCount > refPerPage)
          div.nav.next next
block scripts
  script(src="/js/index.js")
